<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Calculator</title>
</head>
<body>
    <h2>Time Calculator</h2>
    <label for="initialTime">Initial Time (HH:MM:SS.sss):</label>
    <input type="text" id="initialTime" placeholder="16:43:13.526"><br><br>
    <label for="duration">Duration (MM:SS):</label>
    <input type="text" id="duration" placeholder="25:27"><br><br>
    <button onclick="calculateFinalTime()">Calculate Final Time</button>
    <p id="result"></p>

    <script>
        function addTime(initialTime, duration) {
            // Parse the initial time
            let [hours, minutes, seconds] = initialTime.split(':').map(parseFloat);
            
            // Parse the duration
            let [addMinutes, addSeconds] = duration.split(':').map(parseFloat);
    
            // Add the seconds and handle overflow
            seconds += addSeconds;
            if (seconds >= 60) {
                minutes += Math.floor(seconds / 60);
                seconds = seconds % 60;
            }
    
            // Add the minutes and handle overflow
            minutes += addMinutes;
            if (minutes >= 60) {
                hours += Math.floor(minutes / 60);
                minutes = minutes % 60;
            }
    
            // Add hours (no need to handle overflow for hours in this case)
            hours = (hours + Math.floor(minutes / 60)) % 24;
    
            // Format the result to always show two digits for minutes and seconds
            let finalTime = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds.toFixed(3)).padStart(6, '0')}`;
            
            return finalTime;
        }

        function calculateFinalTime() {
            let initialTime = document.getElementById('initialTime').value;
            let duration = document.getElementById('duration').value;
            let finalTime = addTime(initialTime, duration);
            document.getElementById('result').innerText = `Final Time: ${finalTime}`;
        }
    </script>
</body>
</html>
